<!DOCTYPE HTML>
<html>
 <head>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
   <script language="javascript" type="text/javascript" src="../../tiny_mce.js"></script>
   <script language="javascript" type="text/javascript" src="editor_plugin.js"></script>
   <script language="javascript" type="text/javascript">

    tinyMCE.init({
        mode : "textareas",
        plugins                     : "AtD,paste",
      
        //Keeps Paste Text feature active until user deselects the Paste as Text button
        paste_text_sticky : true,
        //select pasteAsPlainText on startup
        setup : function(ed) {
            ed.onInit.add(function(ed) {
                ed.pasteAsPlainText = true;
            });
        },

        /* the URL of your proxy file */
        languagetool_rpc_url                 : "server/proxy.php?url=",
        /* edit this file to customize how LanguageTool shows errors */
        languagetool_css_url                 : "css/content.css",
        /*
         * this stuff is a matter of preference
         */
        theme                              : "advanced",
        //theme_advanced_buttons1            : "bold,italic,underline,separator,strikethrough,justifyleft,justifycenter,justifyright,justifyfull,separator,bullist,numlist,separator",
        theme_advanced_buttons1            : "",
        theme_advanced_buttons2            : "",
        theme_advanced_buttons3            : "",
        theme_advanced_toolbar_location    : "none",
        theme_advanced_toolbar_align       : "left",
        theme_advanced_statusbar_location  : "bottom",  // activated so we have a resize button
        theme_advanced_path                : false,     // don't display path in status bar
        theme_advanced_resizing            : true,
        theme_advanced_resizing_use_cookie : false,
        /* disable the gecko spellcheck since AtD provides one */
        gecko_spellcheck                   : false
    });

    function doit() {
        var langCode = document.checkform.lang.value;
        tinyMCE.activeEditor.execCommand('mceWritingImprovementTool', langCode);
    }

   </script>
 </head>
 <body>

  <p>This demo shows how to load LanguageTool into <a href="http://tinymce.moxiecode.com">TinyMCE</a>.
  Based on <a href="http://www.afterthedeadline.com/download.slp?platform=TinyMCE">After the Deadline for TinyMCE</a>
  </p>

  <p>*** WORK IN PROGRESS ***</p>

  <form action="#" name="checkform">

    <p><textarea name="content" style="width: 760px" rows="6">Paste your own text here... or check this text too see an few of of the problems that LanguageTool can detecd.</textarea></p>

    <select name="lang">
        <option value="ast-ES">Asturian</option>
        <option value="be-BY">Belarusian</option>
        <option value="br-FR">Breton</option>
        <option value="ca-ES">Catalan</option>
        <option value="zh-CN">Chinese</option>
        <option value="da-DK">Danish</option>
        <option value="nl">Dutch</option>
        <option value="en-AU">English (Australian)</option>
        <option value="en-CA">English (Canadian)</option>
        <option value="en-GB">English (GB)</option>
        <option value="en-NZ">English (New Zealand)</option>
        <option value="en-ZA">English (South African)</option>
        <option selected value="en-US">English (US)</option>
        <option value="eo">Esperanto</option>
        <option value="fr">French</option>
        <option value="gl-ES">Galician</option>
        <option value="de-AT">German (Austria)</option>
        <option value="de-DE">German (Germany)</option>
        <option value="de-CH">German (Swiss)</option>
        <option value="el-GR">Greek</option>
        <option value="is-IS">Icelandic</option>
        <option value="it">Italian</option>
        <option value="ja-JP">Japanese</option>
        <option value="km">Khmer</option>
        <option value="lt-LT">Lithuanian</option>
        <option value="ml-IN">Malayalam</option>
        <option value="pl-PL">Polish</option>
        <option value="pt-BR">Portuguese (Brazil)</option>
        <option value="pt-PT">Portuguese (Portugal)</option>
        <option value="ro-RO">Romanian</option>
        <option value="ru-RU">Russian</option>
        <option value="sk-SK">Slovak</option>
        <option value="sl-SI">Slovenian</option>
        <option value="es">Spanish</option>
        <option value="sv">Swedish</option>
        <option value="tl-PH">Tagalog</option>
        <option value="uk-UA">Ukrainian</option>
    </select>

    <input type="button" value="Check" onClick="doit()">
  </form>

  <script language="javascript" type="text/javascript">
    var languageCode = window.navigator.userLanguage || window.navigator.language;
    if (document.checkform.lang.value) {
      for (var i = 0; i < document.checkform.lang.options.length; i++) {
        if (document.checkform.lang.options[i].value == languageCode) {
          document.checkform.lang.value = languageCode;
          break;
        }
      }
      if (languageCode == 'de-DE') {
        document.checkform.content.value = "Fügen Sie hier Ihren Text ein. oder nutzen Sie. diesen Text als Biespiel für ein Paar Fehler ,die LanguageTool erkennen kann: Nachdem wir die ABM-Maßnahme bemängelten, wurden die Problem sofort behoben. Ihm wurde Angst und bange, als er davon hörte.";
        //document.checkform.content.value = "Fügen Sie hier Ihren Text<br/>nein. oder nutzen Sie. diesen Text als<br/>Biespiel.";
        document.checkform.lang.value = "de-DE";
      }
    }
  </script>

 </body>
</html>
